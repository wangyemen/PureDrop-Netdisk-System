# PureDrop网盘系统

一个功能完整的PHP网盘系统，支持文件上传、下载、分享、预览等功能。

## 功能特性

### 用户功能
- 用户注册、登录、退出
- 个人资料管理（头像、昵称、密码修改）
- 存储空间管理
- 响应式设计（支持移动端访问）

### 文件管理
- 文件上传（支持分片上传、断点续传）
- 文件下载（单文件下载、批量下载打包为ZIP）
- 文件夹管理（新建、移动、重命名、复制、删除）
- 文件搜索（按文件名搜索）
- 文件排序（按名称、大小、修改时间）
- 文件筛选（按类型：图片、视频、音乐、文档）
- 网格/列表视图切换
- 右键菜单操作

### 在线预览
- 图片预览（支持常见图片格式）
- 视频预览（支持流式传输）
- 音频预览（支持流式传输）

### 分享功能
- 文件/文件夹分享
- 提取码设置
- 有效期设置
- 分享链接生成
- 未登录用户可查看分享内容
- 保存分享文件到我的网盘

### 管理后台
- 仪表盘（数据统计、图表展示）
- 用户管理（查看、禁用、重置密码、分配存储空间）
- 系统设置（网站名称、Logo上传、注册开关、默认存储配额等）
- 存储方案管理（自定义免费和付费方案）
- 公告管理
- 操作日志
- 管理员日志
- 一键删除所有数据

## 安装说明

### 环境要求
- PHP >= 7.4
- MySQL >= 5.7
- 必需扩展：mysqli, gd, mbstring

### 安装步骤

1. 上传所有文件到服务器

2. 访问 `http://yourdomain.com/install/install.php`

3. 按照安装向导完成安装：
   - 环境检查
   - 数据库配置
   - 安装数据库
   - 管理员设置

4. 安装完成后，删除 `install` 目录

5. 使用管理员账户登录系统

## 目录结构

```
puredrop.xo.je/
├── admin/              # 管理后台
│   ├── api.php        # 管理后台API
│   ├── index.php      # 管理后台首页
│   └── pages/        # 管理后台页面
├── api/               # API接口
│   ├── batch_download.php  # 批量下载
│   ├── files.php      # 文件管理API
│   ├── share.php      # 分享API
│   └── upload.php    # 上传API
├── assets/            # 静态资源
│   ├── css/          # 样式文件
│   ├── js/           # JavaScript文件
│   └── images/       # 图片资源
├── config/            # 配置文件
│   └── config.php    # 系统配置（安装后生成）
├── core/              # 核心文件
│   └── functions.php # 公共函数
├── includes/          # 包含文件
│   ├── auth.php      # 认证检查
│   ├── footer.php    # 页脚
│   └── header.php    # 页头
├── install/           # 安装程序
│   ├── database.sql  # 数据库结构
│   └── install.php   # 安装向导
├── uploads/           # 上传文件目录
├── admin/             # 管理后台入口
├── download.php       # 文件下载
├── index.php          # 首页
├── login.php          # 登录页
├── logout.php         # 退出登录
├── preview.php        # 文件预览
├── profile.php        # 个人资料
├── recycle.php        # 回收站
├── register.php       # 注册页
├── share.php          # 我的分享
└── share_view.php     # 分享查看页
```

## 使用说明

### 用户操作
1. 注册账户
2. 登录系统
3. 上传文件
4. 管理文件（新建文件夹、移动、重命名、删除等）
5. 分享文件
6. 预览文件

### 管理员操作
1. 使用管理员账户登录
2. 进入管理后台
3. 管理用户、系统设置、存储方案等

## 安全建议

1. 安装完成后删除 `install` 目录
2. 定期备份数据库和上传文件
3. 使用强密码
4. 定期更新系统
5. 配置正确的文件权限

## 技术支持

如有问题，请联系技术支持。

### 常见问题

**Q: Logo上传后不显示怎么办？**
A: 请确保uploads目录有写入权限，并且文件格式正确（支持常见图片格式）。

**Q: 网站名称修改后不生效怎么办？**
A: 请确保在系统设置中保存了修改，然后刷新页面查看效果。

**Q: 如何修改默认存储空间？**
A: 在管理后台的系统设置中修改默认存储空间设置。
